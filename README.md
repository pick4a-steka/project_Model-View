## Интерактивный гид по космической системе
### Проект с использованием архитектурного паттерна Модель-Представление в фреймворке Qt


***Модель-Представление*** - это такая архитектурная концепция, паттерн, которая заключается в том, что программный функционал продукта строго разделён на логические секции, каждая из которых отвечает за свои определенные задачи.



*В фреймворке Qt* этот архитектурный паттерн представлен 4-мя составляющими:
* Модель;
* Представление;
* Выделение;
* Делегат.

***Модель*** - это сущность, которая представляет из себя обертку над данными, то есть модель используется для того чтобы предоставлять интерфейс для манипулирования данными.


***Представление*** - это сущность, которая отвечает за характер отображения данных. Также представление связано сигналами и слотами с делегатами для своевременного обновления о*тображения данных.


***Делегат*** - это сущность, которая выполняет роль контроллера для получения и изменения данных через связь с моделью. Также посредством делегата осуществляется кастомизация отображения данных.


***Выделение*** - это механизм, который отвечает за выбор и обработку элементов, отображаемых в представлении. Это механизм, который позволяет выбрать строчку, ячейку или элемент в представлении, чтобы с ним можно было взаимодействовать.


----


Также в Qt присутствует механизм ***ролей***. ***Роли*** используются моделью для корректного представления данных для различных задач. Например `Qt::DisplayRole` используется для вывода текста в представлении. `Qt::ToolTipRole` используется для вывода подсказок при наведении мыши.

В моем проекте для реализации кастомного класса модели нужно использовать базовый класс QAbstractItemModel. Для корректной реализации кастомного класса модели в нем нужно переопределить следующие методы:
* `QVariant data` - возвращает данные для отображения в `QTreeView` или другом виджете связанном с моделью;
* `bool setData` - устанавливает новые данные для элемента модели;
* `int rowCount` - возвращает количество строк для определенного элемента (или узла) модели
* `QModelIndex parent` - определяет родителя для узла (или элемента);
* `QModelIndex index` - создает и возвращает `QModelIndex` для конкретной строки и колонки. Этот индекс связывает виджет с данными.

Для реализации кастомного делегата из базового класса `QStyledItemDelegate` нужно переопределить следующие методы:
* `void paint` - позволяет кастомизировать, как данные отображаются (например, изменить стиль текста или нарисовать прогресс-бар);
* `QWidget createEditor` - создает виджет для редактирования (например, `QLineEdit`, `QComboBox`, `QSpinBox` и т.д.);
* `void setEditorData` - загружает данные из модели в редактор;
* `void setModelData` - передает данные из редактора обратно в модель;
* `void sizeHint` - настраивает размер ячеек.


----


### Установка ###
Команды установки испольнять из-под суперпользователя\
1. Скачайте и установие [Qt](https://www.qt.io/offline-installers "Сайт для установки Qt Creator") c официального сайта или с помощью командной строки для Linux Ubuntu под суперпользователем:
    * Установка фреймворка Qt:\
   ```
   apt-get update
   apt-get install qt5-base-dev
   ```
    * Установка Qt Creator:\
   ```
   apt-get install qtcreator
   ```


2. Клонируйте репозиторий
    * Сколонируйте репозиторий на свой компьютер:\
   ```
   git clone https://github.com/pick4a-steka/project_Model-View.git
   ```
    * Перейдите в директорию проекта:\
   ```
   cd project_Model-View
   ```


3. Откройте проект в Qt Creator
    * Запустите Qt Creator
    * В Qt Creator выберите ***Файл > Открыть файл или проект и выберите файл проекта `.pro`***, который находится в корневой папке репозитория.
  
      
4.  Настройте конфигурацию проекта
    * Qt Creator предложит выбрать компилятор и версию Qt.
  
    
5. Скомпилируйте и запустите проект
    * `Ctrl + B` для компиляции проекта
    * `Ctrl + R` для запуска проекта
  
6. Также для работы проекта необходима СУБД PostgreSQL, для её установки необходимо выполнить:
```
sudo apt install postgresql postgresql-contrib -y
```

7. Для того, чтобы начать работать с базой данный из под СУБД PostgreSQL, требуется прописать в терминале:
```
sudo -i -u postgres
```
Эта команда для переключения на учетную запись postgres на сервере и получить доступ для приглашения PostgreSQL.

8. Далее для доступа к базе данных требуется прописать в терминале:
```
psql
```
Эта команда занимает интерактивную консольную утилиту `psql` для взаимодействия с базой данных.

9. Далее требуется ***СНАЧАЛА*** создать пользователя и пароль для пользователя, ***ПОТОМ*** перейти на нового созданного пользователя и ***ТОЛЬКО ТОГДА*** создавать базу данных. Такая последовательность действий по умолчанию передаст все необходимые права для нового пользователя для этой базы данных. После создания базы данных требуется создать таблицу.

  * Создание пользователя и пароля:
```
CREATE USER <myuser> WITH PASSWORD <'mypassword'>
```

  * Переход на пользователя:
```
SET role <myuser>;
```

  * Создание базы данных:
```
CREATE DATABASE <db_celestials>;
```

  * Создание таблицы в базе данных:
```
CREATE TABLE <celestial> (
    celestial_id SERIAL PRIMARY KEY,
    name VARCHAR(30),
    type VARCHAR(10),
    info VARCHAR(255),
    hex_color VARCHAR(7),
    radius INT,
    parent VARCHAR(30)
);
```
